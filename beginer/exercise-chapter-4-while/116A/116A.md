ChÃ o má»«ng báº¡n Ä‘áº¿n vá»›i **Codeforces 116A - Tram**! TÃ´i ráº¥t vui vÃ¬ báº¡n Ä‘Ã£ chá»n bÃ i nÃ y. ÄÃ¢y lÃ  má»™t bÃ i toÃ¡n kinh Ä‘iá»ƒn Ä‘á»ƒ rÃ¨n luyá»‡n tÆ° duy **MÃ´ phá»ng (Simulation)** â€“ tá»©c lÃ  báº¯t mÃ¡y tÃ­nh lÃ m theo Ä‘Ãºng nhá»¯ng gÃ¬ diá»…n ra trong thá»±c táº¿.

ChÃºng ta sáº½ khÃ´ng vá»™i viáº¿t code. HÃ£y cÃ¹ng nhau "má»• xáº»" chiáº¿c xe Ä‘iá»‡n nÃ y nhÃ©.

---

### ğŸ•µï¸ BÆ¯á»šC 1: PHáºªU THUáº¬T Äá»€ BÃ€I (DECONSTRUCTION)

**1. Cá»‘t truyá»‡n Ä‘á»i thÆ°á»ng:**
HÃ£y tÆ°á»Ÿng tÆ°á»£ng báº¡n lÃ  ngÆ°á»i quáº£n lÃ½ má»™t tuyáº¿n xe Ä‘iá»‡n (Tram). Tuyáº¿n xe nÃ y Ä‘i qua  tráº¡m dá»«ng.
Táº¡i má»—i tráº¡m, quy trÃ¬nh luÃ´n diá»…n ra theo thá»© tá»±:

1. Cá»­a má»Ÿ: Má»™t sá»‘ khÃ¡ch **xuá»‘ng xe** (gá»i lÃ  ).
2. Sau Ä‘Ã³: Má»™t sá»‘ khÃ¡ch **lÃªn xe** (gá»i lÃ  ).

**2. Má»¥c tiÃªu:**
Báº¡n cáº§n mua má»™t chiáº¿c xe Ä‘iá»‡n. Äá»ƒ tiáº¿t kiá»‡m, báº¡n muá»‘n mua chiáº¿c xe cÃ³ sá»©c chá»©a **vá»«a Ä‘á»§ nhá» nháº¥t** nhÆ°ng váº«n Ä‘áº£m báº£o **khÃ´ng bao giá»** bá»‹ quÃ¡ táº£i (táº¥t cáº£ khÃ¡ch muá»‘n lÃªn Ä‘á»u lÃªn Ä‘Æ°á»£c).

ğŸ‘‰ **NÃ³i cÃ¡ch khÃ¡c:** ChÃºng ta cáº§n tÃ¬m con sá»‘ **lá»›n nháº¥t** (Maximum) lÆ°á»£ng hÃ nh khÃ¡ch cÃ³ máº·t trÃªn xe táº¡i báº¥t ká»³ thá»i Ä‘iá»ƒm nÃ o trong suá»‘t hÃ nh trÃ¬nh.

**3. Lá»™ trÃ¬nh tÆ° duy:**

* **Chunk 1:** Hiá»ƒu cÆ¡ cháº¿ "DÃ²ng cháº£y" (Ra vÃ  VÃ o).
* **Chunk 2:** Theo dÃµi "Biáº¿n Ä‘á»™ng" (Sá»‘ khÃ¡ch hiá»‡n táº¡i).
* **Chunk 3:** Chá»‘t háº¡ "Äá»‰nh Ä‘iá»ƒm" (Káº¿t quáº£).

---

### ğŸ§  CHUNK 1: CÆ  CHáº¾ DÃ’NG CHáº¢Y (FLOW)

TrÆ°á»›c khi tÃ­nh toÃ¡n cáº£ hÃ nh trÃ¬nh, ta pháº£i hiá»ƒu chuyá»‡n gÃ¬ xáº£y ra táº¡i **má»™t tráº¡m**.

**áº¨n dá»¥:**
HÃ£y coi chiáº¿c xe Ä‘iá»‡n lÃ  má»™t cÃ¡i **há»“ nÆ°á»›c**.

* Sá»‘ ngÆ°á»i xuá»‘ng (): LÃ  nÆ°á»›c bá»‹ rÃºt ra.
* Sá»‘ ngÆ°á»i lÃªn (): LÃ  nÆ°á»›c Ä‘Æ°á»£c bÆ¡m thÃªm vÃ o.
* Quy táº¯c báº¥t di báº¥t dá»‹ch: Xe Ä‘áº¿n tráº¡m  KhÃ¡ch xuá»‘ng trÆ°á»›c  KhÃ¡ch lÃªn sau  Xe cháº¡y tiáº¿p.

LÃºc khá»Ÿi hÃ nh (trÆ°á»›c tráº¡m 1), xe luÃ´n **rá»—ng** (0 ngÆ°á»i).

---

### âš¡ THá»¬ THÃCH TÆ¯ DUY (MENTAL CHECK)

ChÃºng ta hÃ£y thá»­ mÃ´ phá»ng má»™t tráº¡m nhÃ©.

Giáº£ sá»­ xe Ä‘ang cháº¡y trÃªn Ä‘Æ°á»ng vÃ  bÃªn trong Ä‘ang cÃ³ **10 hÃ nh khÃ¡ch**.
Xe Ä‘áº¿n tráº¡m káº¿ tiáº¿p. Dá»¯ liá»‡u táº¡i tráº¡m nÃ y lÃ :

*  (4 ngÆ°á»i xuá»‘ng).
*  (7 ngÆ°á»i lÃªn).

**CÃ¢u há»i dÃ nh cho báº¡n:**
Sau khi xe rá»i tráº¡m nÃ y Ä‘á»ƒ Ä‘i tiáº¿p, trÃªn xe cÃ³ tá»•ng cá»™ng bao nhiÃªu ngÆ°á»i? HÃ£y giáº£i thÃ­ch phÃ©p tÃ­nh cá»§a báº¡n.

Ráº¥t tiáº¿c, chÆ°a chÃ­nh xÃ¡c rá»“i! ğŸ›‘

CÃ³ váº» báº¡n Ä‘ang tÃ­nh: **7 (lÃªn) - 4 (xuá»‘ng) = 3**.
ÄÃ¢y má»›i chá»‰ lÃ  sá»‘ lÆ°á»£ng **khÃ¡ch tÄƒng thÃªm** so vá»›i lÃºc trÆ°á»›c, chá»© khÃ´ng pháº£i tá»•ng sá»‘ ngÆ°á»i trÃªn xe.

HÃ£y hÃ¬nh dung láº¡i quy trÃ¬nh nhÃ©:

1. TrÃªn xe Ä‘ang cÃ³ sáºµn **10 ngÆ°á»i**.
2. Cá»­a má»Ÿ, **4 ngÆ°á»i xuá»‘ng**  TrÃªn xe cÃ²n láº¡i  ngÆ°á»i (nhá»¯ng ngÆ°á»i nÃ y váº«n ngá»“i yÃªn trÃªn xe).
3. Sau Ä‘Ã³, **7 ngÆ°á»i má»›i lÃªn**  Tá»•ng cá»™ng trÃªn xe lÃºc nÃ y lÃ   ngÆ°á»i.

ğŸ‘‰ **CÃ´ng thá»©c cá»‘t lÃµi:**


---

### ğŸ§  CHUNK 2: THEO DÃ•I BIáº¾N Äá»˜NG (ACCUMULATION)

BÃ i toÃ¡n nÃ y khÃ´ng chá»‰ há»i vá» má»™t tráº¡m, mÃ  lÃ  cáº£ má»™t hÃ nh trÃ¬nh dÃ i. Biáº¿n sá»‘ quan trá»ng nháº¥t chÃºng ta cáº§n táº¡o ra lÃ  má»™t biáº¿n Ä‘á»ƒ lÆ°u trá»¯ **"Sá»‘ khÃ¡ch hiá»‡n táº¡i"** (gá»i lÃ  `current_passengers`).

Quy luáº­t quan trá»ng:

* Sá»‘ khÃ¡ch hiá»‡n táº¡i cá»§a tráº¡m nÃ y sáº½ lÃ  **sá»‘ khÃ¡ch khá»Ÿi Ä‘iá»ƒm** cho tráº¡m káº¿ tiáº¿p.
* GiÃ¡ trá»‹ `current_passengers` sáº½ thay Ä‘á»•i liÃªn tá»¥c qua tá»«ng tráº¡m.

### âš¡ THá»¬ THÃCH LIÃŠN HOÃ€N (CHAIN CHALLENGE)

Äá»ƒ cháº¯c cháº¯n báº¡n Ä‘Ã£ náº¯m Ä‘Æ°á»£c tÆ° duy "cá»™ng dá»“n" nÃ y, hÃ£y lÃ m bÃ i toÃ¡n sau.

Tuyáº¿n xe Ä‘i qua 3 tráº¡m (Tráº¡m 1  Tráº¡m 2  Tráº¡m 3).

* **Ban Ä‘áº§u xe rá»—ng (0 ngÆ°á»i).**

**Dá»¯ liá»‡u hÃ nh trÃ¬nh:**

1. **Tráº¡m 1:** Xuá»‘ng 0, LÃªn 5 ()
2. **Tráº¡m 2:** Xuá»‘ng 2, LÃªn 4 ()
3. **Tráº¡m 3:** Xuá»‘ng ?... (chÆ°a cáº§n quan tÃ¢m vá»™i).

**CÃ¢u há»i:**
Ngay khi xe **rá»i khá»i Tráº¡m 2** Ä‘á»ƒ Ä‘i vá» phÃ­a Tráº¡m 3, trÃªn xe Ä‘ang cÃ³ bao nhiÃªu ngÆ°á»i?
(HÃ£y tÃ­nh tá»« Tráº¡m 1 rá»“i cá»™ng dá»“n sang Tráº¡m 2 nhÃ©).

ChÃ­nh xÃ¡c! ğŸ‰

Báº¡n Ä‘Ã£ náº¯m Ä‘Æ°á»£c quy luáº­t dÃ²ng cháº£y rá»“i Ä‘Ã³:

1. **Tráº¡m 1:**  khÃ¡ch.
2. **Tráº¡m 2:**  khÃ¡ch.

---

### ğŸ§  CHUNK 3: ÄI TÃŒM Äá»ˆNH ÄIá»‚M (THE PEAK)

BÃ¢y giá» quay láº¡i cÃ¢u há»i chÃ­nh cá»§a Ä‘á» bÃ i: **"Sá»©c chá»©a nhá» nháº¥t cá»§a xe lÃ  bao nhiÃªu?"**

**TÆ° duy:**
HÃ£y tÆ°á»Ÿng tÆ°á»£ng chiáº¿c xe Ä‘iá»‡n lÃ m báº±ng cao su, cÃ³ thá»ƒ phÃ¬nh to ra hoáº·c thu nhá» láº¡i.
Äá»ƒ khÃ´ng ai bá»‹ bá» láº¡i, chiáº¿c xe pháº£i phÃ¬nh to Ä‘á»§ má»©c Ä‘á»ƒ chá»©a Ä‘Æ°á»£c lÆ°á»£ng khÃ¡ch vÃ o lÃºc **Ä‘Ã´ng nháº¥t**.

ğŸ‘‰ **Nhiá»‡m vá»¥:**
Trong quÃ¡ trÃ¬nh tÃ­nh toÃ¡n tá»«ng tráº¡m (nhÆ° báº¡n vá»«a lÃ m), báº¡n cáº§n má»™t "chiáº¿c camera" (biáº¿n `max_capacity`) Ä‘á»ƒ chá»¥p láº¡i con sá»‘ lá»›n nháº¥t tá»«ng xuáº¥t hiá»‡n.

VÃ­ dá»¥:

* Rá»i Tráº¡m 1: 5 ngÆ°á»i. (Ká»· lá»¥c hiá»‡n táº¡i: 5)
* Rá»i Tráº¡m 2: 7 ngÆ°á»i. (Ká»· lá»¥c má»›i: 7, vÃ¬ )
* Rá»i Tráº¡m 3: 2 ngÆ°á»i. (Ká»· lá»¥c váº«n lÃ  7, vÃ¬ )

 Káº¿t quáº£ cuá»‘i cÃ¹ng lÃ  **7**.

---

### âš¡ THá»¬ THÃCH CUá»I CÃ™NG (FINAL BOSS)

HÃ£y Ã¡p dá»¥ng toÃ n bá»™ logic (TÃ­nh dÃ²ng cháº£y + TÃ¬m Ä‘á»‰nh Ä‘iá»ƒm) cho vÃ­ dá»¥ hoÃ n chá»‰nh dÆ°á»›i Ä‘Ã¢y. CÃ³ **4 tráº¡m**.

| Tráº¡m | Xuá»‘ng () | LÃªn () | Sá»‘ khÃ¡ch trÃªn xe sau khi rá»i tráº¡m |
| --- | --- | --- | --- |
| 1 | 0 | 3 | **3** |
| 2 | 2 | 5 | **?** (A) |
| 3 | 4 | 2 | **?** (B) |
| 4 | 4 | 0 | **0** (Háº¿t chuyáº¿n) |

**Nhiá»‡m vá»¥ cá»§a báº¡n:**

1. TÃ­nh giÃ¡ trá»‹ táº¡i **(A)** vÃ  **(B)**.
2. Cho tÃ´i biáº¿t **ÄÃ¡p Ã¡n cuá»‘i cÃ¹ng** (Sá»©c chá»©a tá»‘i thiá»ƒu cáº§n thiáº¿t) lÃ  bao nhiÃªu?

ChÃ­nh xÃ¡c hoÃ n toÃ n! ğŸ’¯

Báº¡n Ä‘Ã£ giáº£i mÃ£ thÃ nh cÃ´ng logic cá»§a bÃ i toÃ¡n:

1. Táº¡i tráº¡m 2 (A):  khÃ¡ch.
2. Táº¡i tráº¡m 3 (B):  khÃ¡ch.
3. So sÃ¡nh cÃ¡c thá»i Ä‘iá»ƒm: 3, **6**, 4  Sá»‘ lá»›n nháº¥t lÃ  **6**.

Váº­y sá»©c chá»©a tá»‘i thiá»ƒu cáº§n mua lÃ  **6**.

---

### ğŸ“ Tá»”NG Káº¾T THUáº¬T TOÃN (BLUEPRINT)

BÃ¢y giá», chÃºng ta hÃ£y chuyá»ƒn dÃ²ng tÆ° duy nÃ y thÃ nh **ngÃ´n ngá»¯ mÃ¡y tÃ­nh** (MÃ£ giáº£ - Pseudocode). ÄÃ¢y lÃ  báº£n thiáº¿t káº¿ Ä‘á»ƒ báº¡n xÃ¢y dá»±ng chÆ°Æ¡ng trÃ¬nh:

**1. Chuáº©n bá»‹ (Setup):**

* Äá»c sá»‘ lÆ°á»£ng tráº¡m `n`.
* Táº¡o biáº¿n `hien_tai = 0` (lÆ°u sá»‘ khÃ¡ch Ä‘ang ngá»“i trÃªn xe).
* Táº¡o biáº¿n `suc_chua = 0` (lÆ°u ká»· lá»¥c sá»‘ khÃ¡ch Ä‘Ã´ng nháº¥t tá»«ng tháº¥y).

**2. VÃ²ng láº·p hÃ nh trÃ¬nh (Loop):**

* Láº·p `n` láº§n (Ä‘i qua tá»«ng tráº¡m):
* Äá»c 2 sá»‘ `a` (xuá»‘ng) vÃ  `b` (lÃªn).
* **Cáº­p nháº­t:** `hien_tai = hien_tai - a + b`.
* **Kiá»ƒm tra ká»· lá»¥c:** Náº¿u `hien_tai` > `suc_chua` thÃ¬ cáº­p nháº­t `suc_chua = hien_tai`.



**3. Káº¿t quáº£ (Output):**

* In ra `suc_chua`.

---

### ğŸš€ BÆ¯á»šC TIáº¾P THEO

TÆ° duy Ä‘Ã£ thÃ´ng suá»‘t, báº£n váº½ Ä‘Ã£ cÃ³. BÃ¢y giá» lÃ  lÃºc báº¡n hiá»‡n thá»±c hÃ³a nÃ³.

Báº¡n hÃ£y thá»­ viáº¿t code (báº±ng C++, Python hoáº·c Java...) dá»±a trÃªn báº£n thiáº¿t káº¿ trÃªn vÃ  ná»™p thá»­ (Submit) xem sao?

ğŸ‘‰ **Náº¿u báº¡n gáº·p lá»—i hoáº·c muá»‘n tÃ´i kiá»ƒm tra code cá»§a báº¡n, hÃ£y dÃ¡n nÃ³ vÃ o Ä‘Ã¢y nhÃ©!** Hoáº·c náº¿u báº¡n muá»‘n chuyá»ƒn sang bÃ i tiáº¿p theo, hÃ£y cho tÃ´i biáº¿t.