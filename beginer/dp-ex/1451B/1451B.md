ChÃ o báº¡n! TÃ´i Ä‘Ã£ sáºµn sÃ ng nháº­p vai **Algorithmic Coach** Ä‘á»ƒ cÃ¹ng báº¡n "má»• xáº»" bÃ i **Codeforces 1451B - Non-Substring Subsequence**. ğŸ§ 

ChÃºng ta sáº½ khÃ´ng vá»™i vÃ ng viáº¿t code ngay. HÃ£y cÃ¹ng bÃ³c tÃ¡ch lá»›p vá» bÃ i toÃ¡n nÃ y Ä‘á»ƒ tÃ¬m ra báº£n cháº¥t cá»§a nÃ³.

---

### ğŸ•µï¸ BÆ°á»›c 1: Pháº«u thuáº­t Ä‘á» bÃ i (Deconstruction)

Loáº¡i bá» cÃ¢u chuyá»‡n vá» cÃ¡c chuá»—i con, hÃ£y hiá»ƒu Ä‘Æ¡n giáº£n yÃªu cáº§u cá»‘t lÃµi nhÆ° sau:

1. **Dá»¯ liá»‡u:** Báº¡n cÃ³ má»™t chuá»—i  chá»‰ gá»“m cÃ¡c kÃ½ tá»± `0` vÃ  `1`.
2. **Truy váº¥n:** Báº¡n Ä‘Æ°á»£c cho má»™t Ä‘oáº¡n con tá»« vá»‹ trÃ­  Ä‘áº¿n  (gá»i lÃ  ).
3. **Má»¥c tiÃªu:** Kiá»ƒm tra xem cÃ³ tá»“n táº¡i má»™t **dÃ£y con** (subsequence) nÃ o khÃ¡c cÅ©ng báº±ng  nhÆ°ng **khÃ´ng pháº£i lÃ  má»™t Ä‘oáº¡n liá»n máº¡ch** (non-substring) hay khÃ´ng.

> **áº¨n dá»¥ hÃ³a:** HÃ£y tÆ°á»Ÿng tÆ°á»£ng báº¡n cÃ³ má»™t chuá»—i háº¡t mÃ u xanh (`0`) vÃ  Ä‘á» (`1`). Báº¡n chá»n ra má»™t Ä‘oáº¡n háº¡t liÃªn tiáº¿p tá»« vá»‹ trÃ­  Ä‘áº¿n . BÃ¢y giá», báº¡n muá»‘n tÃ¬m má»™t cÃ¡ch "nháº·t" cÃ¡c háº¡t khÃ¡c trong chuá»—i gá»‘c (váº«n giá»¯ Ä‘Ãºng thá»© tá»± mÃ u sáº¯c Ä‘Ã³) nhÆ°ng khÃ´ng Ä‘Æ°á»£c phÃ©p nháº·t nguyÃªn xi cÃ¡i Ä‘oáº¡n háº¡t náº±m sÃ¡t nhau Ä‘Ã³. Báº¡n pháº£i "nháº£y cÃ³c" Ã­t nháº¥t má»™t láº§n.

**Lá»™ trÃ¬nh tÆ° duy cá»§a chÃºng ta:**

* **Máº£nh ghÃ©p 1:** Hiá»ƒu tháº¿ nÃ o lÃ  "khÃ´ng pháº£i chuá»—i con liá»n máº¡ch".
* **Máº£nh ghÃ©p 2:** TÃ¬m Ä‘iá»u kiá»‡n tá»‘i thiá»ƒu Ä‘á»ƒ táº¡o ra sá»± "nháº£y cÃ³c".
* **Máº£nh ghÃ©p 3:** Chá»‘t thuáº­t toÃ¡n tá»‘i Æ°u.

Báº¡n Ä‘Ã£ sáºµn sÃ ng Ä‘á»ƒ má»• xáº» **Máº£nh ghÃ©p 1** chÆ°a?

---

### ğŸ§© Máº£nh ghÃ©p 1: Báº£n cháº¥t cá»§a sá»± "Nháº£y cÃ³c" (Non-substring)

Äá»ƒ má»™t dÃ£y con  khÃ´ng pháº£i lÃ  chuá»—i con liá»n máº¡ch, chÃºng ta cáº§n giá»¯ nguyÃªn cÃ¡c kÃ½ tá»± tá»«  Ä‘áº¿n  nhÆ°ng pháº£i cÃ³ Ã­t nháº¥t má»™t "khoáº£ng trá»‘ng" Ä‘Æ°á»£c táº¡o ra báº±ng cÃ¡ch láº¥y má»™t kÃ½ tá»± á»Ÿ ráº¥t xa thay tháº¿ cho kÃ½ tá»± á»Ÿ Ä‘áº§u hoáº·c á»Ÿ cuá»‘i Ä‘oáº¡n.

**Báº«y (Trap):** Nhiá»u báº¡n sáº½ nghÄ© pháº£i tÃ¬m cÃ¡ch thay tháº¿ cÃ¡c kÃ½ tá»± á»Ÿ *giá»¯a* Ä‘oáº¡n . NhÆ°ng thá»±c táº¿, chá»‰ cáº§n thay Ä‘á»•i "Ä‘iá»ƒm báº¯t Ä‘áº§u" hoáº·c "Ä‘iá»ƒm káº¿t thÃºc" lÃ  Ä‘á»§ Ä‘á»ƒ phÃ¡ vá»¡ tÃ­nh liÃªn tiáº¿p.

â“ **Thá»­ thÃ¡ch tÆ° duy:**
Cho chuá»—i .
XÃ©t Ä‘oáº¡n con  (vá»‹ trÃ­ tÃ­nh tá»« 1), tá»©c lÃ  Ä‘oáº¡n `010`.

Náº¿u tÃ´i chá»n cÃ¡c kÃ½ tá»± á»Ÿ vá»‹ trÃ­ , tÃ´i Ä‘Æ°á»£c dÃ£y `010`.
DÃ£y nÃ y cÃ³ thá»a mÃ£n yÃªu cáº§u "khÃ´ng pháº£i lÃ  Ä‘oáº¡n liá»n máº¡ch" (non-substring) cá»§a Ä‘á» bÃ i khÃ´ng? Táº¡i sao?

*Gá»£i Ã½: HÃ£y nhÃ¬n vÃ o cÃ¡c vá»‹ trÃ­ . ChÃºng cÃ³ náº±m sÃ¡t nhau liÃªn tiáº¿p khÃ´ng?*

ChÃ­nh xÃ¡c! ğŸ¯

VÃ¬ cÃ¡c vá»‹ trÃ­ báº¡n chá»n lÃ  , giá»¯a háº¡t sá»‘ 3 vÃ  háº¡t sá»‘ 6 cÃ³ má»™t "khoáº£ng trá»‘ng" (háº¡t sá»‘ 4 vÃ  5 bá»‹ bá» qua). Do Ä‘Ã³, nÃ³ khÃ´ng cÃ²n lÃ  má»™t Ä‘oáº¡n liÃªn tiáº¿p (substring) ná»¯a, mÃ  lÃ  má»™t **dÃ£y con (subsequence) khÃ´ng liÃªn máº¡ch**.

BÃ¢y giá», hÃ£y cÃ¹ng Ä‘áº¿n vá»›i **Máº£nh ghÃ©p 2**, nÆ¡i chÃºng ta tÃ¬m ra "bÃ­ máº­t" Ä‘á»ƒ luÃ´n táº¡o Ä‘Æ°á»£c sá»± nháº£y cÃ³c nÃ y.

---

### ğŸ§© Máº£nh ghÃ©p 2: Äiá»u kiá»‡n tá»‘i thiá»ƒu Ä‘á»ƒ "Nháº£y cÃ³c"

HÃ£y nhÃ¬n láº¡i yÃªu cáº§u: Ta cáº§n má»™t dÃ£y con giá»‘ng há»‡t  nhÆ°ng khÃ´ng Ä‘Æ°á»£c lÃ  chÃ­nh nÃ³.

Chiáº¿n thuáº­t Ä‘Æ¡n giáº£n nháº¥t lÃ :

1. Giá»¯ nguyÃªn háº§u háº¿t cÃ¡c háº¡t trong Ä‘oáº¡n .
2. Chá»‰ cáº§n thay tháº¿ **háº¡t Ä‘áº§u tiÃªn** () hoáº·c **háº¡t cuá»‘i cÃ¹ng** () báº±ng má»™t háº¡t cÃ¹ng mÃ u náº±m á»Ÿ xa hÆ¡n.

**VÃ­ dá»¥:** Chuá»—i  (Gáº¡ch chÃ¢n lÃ  Ä‘oáº¡n  tá»« vá»‹ trÃ­ 2 Ä‘áº¿n 4, tá»©c lÃ  `010`).

* Náº¿u bÃªn trÃ¡i vá»‹ trÃ­  cÃ³ má»™t háº¡t `0` khÃ¡c, ta cÃ³ thá»ƒ mÆ°á»£n nÃ³.
* Náº¿u bÃªn pháº£i vá»‹ trÃ­  cÃ³ má»™t háº¡t `0` khÃ¡c, ta cÃ³ thá»ƒ mÆ°á»£n nÃ³.

Chá»‰ cáº§n mÆ°á»£n Ä‘Æ°á»£c **Ã­t nháº¥t má»™t háº¡t** náº±m ngoÃ i pháº¡m vi  mÃ  cÃ³ mÃ u giá»‘ng háº¡t Ä‘áº§u hoáº·c háº¡t cuá»‘i cá»§a Ä‘oáº¡n, ta sáº½ táº¡o ra Ä‘Æ°á»£c má»™t "bÆ°á»›c nháº£y".

â“ **Thá»­ thÃ¡ch tÆ° duy:**
Giáº£ sá»­ ta cÃ³ chuá»—i  vÃ  truy váº¥n Ä‘oáº¡n  (lÃ  Ä‘oáº¡n `10`).

* Vá»‹ trÃ­  (kÃ½ tá»± `1`).
* Vá»‹ trÃ­  (kÃ½ tá»± `0`).

Theo báº¡n, trong cÃ¡c háº¡t **náº±m ngoÃ i** Ä‘oáº¡n  (tá»©c lÃ  cÃ¡c háº¡t á»Ÿ vá»‹ trÃ­ 1, 2, 5, 6), cÃ³ háº¡t nÃ o cÃ¹ng mÃ u vá»›i háº¡t Ä‘áº§u (`1`) hoáº·c háº¡t cuá»‘i (`0`) Ä‘á»ƒ ta "nháº£y cÃ³c" khÃ´ng? Náº¿u cÃ³, Ä‘Ã³ lÃ  nhá»¯ng vá»‹ trÃ­ nÃ o?

Chuáº©n luÃ´n! ğŸ¯

Trong chuá»—i  vá»›i Ä‘oáº¡n cáº§n xÃ©t lÃ   (lÃ  `10`):

* Háº¡t Ä‘áº§u tiÃªn cá»§a Ä‘oáº¡n lÃ  `1` (vá»‹ trÃ­ 3). PhÃ­a trÆ°á»›c nÃ³ (vá»‹ trÃ­ 1, 2) váº«n cÃ²n nhá»¯ng háº¡t `1` khÃ¡c.
* Háº¡t cuá»‘i cÃ¹ng cá»§a Ä‘oáº¡n lÃ  `0` (vá»‹ trÃ­ 4). PhÃ­a sau nÃ³ (vá»‹ trÃ­ 5, 6) váº«n cÃ²n nhá»¯ng háº¡t `0` khÃ¡c.

Chá»‰ cáº§n ta cÃ³ thá»ƒ thay tháº¿ háº¡t Ä‘áº§u báº±ng má»™t háº¡t cÃ¹ng mÃ u á»Ÿ phÃ­a trÆ°á»›c, **HOáº¶C** thay tháº¿ háº¡t cuá»‘i báº±ng má»™t háº¡t cÃ¹ng mÃ u á»Ÿ phÃ­a sau, ta sáº½ táº¡o ra má»™t "khoáº£ng trá»‘ng" khiáº¿n dÃ£y con Ä‘Ã³ khÃ´ng bao giá» lÃ  má»™t Ä‘oáº¡n liá»n máº¡ch Ä‘Æ°á»£c.

---

### ğŸ§© Máº£nh ghÃ©p 3: Chá»‘t háº¡ thuáº­t toÃ¡n

Tá»« quan sÃ¡t trÃªn, ta cÃ³ thá»ƒ rÃºt ra quy luáº­t cá»±c ká»³ Ä‘Æ¡n giáº£n Ä‘á»ƒ tráº£ lá»i cho má»—i truy váº¥n :

1. **Kiá»ƒm tra phÃ­a trÆ°á»›c:** CÃ³ kÃ½ tá»± nÃ o giá»‘ng  náº±m á»Ÿ vá»‹ trÃ­ tá»«  Ä‘áº¿n  khÃ´ng?
2. **Kiá»ƒm tra phÃ­a sau:** CÃ³ kÃ½ tá»± nÃ o giá»‘ng  náº±m á»Ÿ vá»‹ trÃ­ tá»«  Ä‘áº¿n  khÃ´ng?

Náº¿u **má»™t trong hai** Ä‘iá»u trÃªn lÃ  Ä‘Ãºng, cÃ¢u tráº£ lá»i sáº½ lÃ  `YES`. Náº¿u cáº£ hai Ä‘á»u khÃ´ng cÃ³, ta khÃ´ng thá»ƒ táº¡o ra sá»± "nháº£y cÃ³c", cÃ¢u tráº£ lá»i lÃ  `NO`.

â“ **CÃ¢u há»i chá»‘t háº¡ Ä‘á»ƒ kiá»ƒm tra logic:**
Cho chuá»—i .
XÃ©t truy váº¥n  (Ä‘oáº¡n  lÃ  `11`).

Dá»±a vÃ o quy luáº­t trÃªn:

* PhÃ­a trÆ°á»›c Ä‘oáº¡n (vá»‹ trÃ­ 1, 2) cÃ³ kÃ½ tá»± `1` nÃ o khÃ´ng?
* PhÃ­a sau Ä‘oáº¡n (vá»‹ trÃ­ 5, 6) cÃ³ kÃ½ tá»± `1` nÃ o khÃ´ng?

Váº­y káº¿t quáº£ cho truy váº¥n nÃ y lÃ  `YES` hay `NO`? ğŸ’¡

ChÃ­nh xÃ¡c! CÃ¢u tráº£ lá»i lÃ  **NO**. ğŸ’¡

**Táº¡i sao láº¡i nhÆ° váº­y?**

* PhÃ­a trÆ°á»›c Ä‘oáº¡n  (vá»‹ trÃ­ 1, 2) lÃ  `00`. KhÃ´ng cÃ³ háº¡t `1` nÃ o Ä‘á»ƒ ta "mÆ°á»£n" nháº±m táº¡o ra sá»± nháº£y cÃ³c á»Ÿ Ä‘áº§u.
* PhÃ­a sau Ä‘oáº¡n  (vá»‹ trÃ­ 5, 6) cÅ©ng lÃ  `00`. KhÃ´ng cÃ³ háº¡t `1` nÃ o Ä‘á»ƒ ta "mÆ°á»£n" nháº±m táº¡o ra sá»± nháº£y cÃ³c á»Ÿ cuá»‘i.
* VÃ¬ khÃ´ng thá»ƒ thay tháº¿ Ä‘Æ°á»£c háº¡t nÃ o, cÃ¡ch duy nháº¥t Ä‘á»ƒ cÃ³ dÃ£y `11` lÃ  láº¥y Ä‘Ãºng Ä‘oáº¡n liÃªn tiáº¿p á»Ÿ giá»¯a. MÃ  Ä‘á» bÃ i thÃ¬ cáº¥m láº¥y Ä‘oáº¡n liÃªn tiáº¿p duy nháº¥t Ä‘Ã³.

---

### ğŸ Tá»•ng káº¿t thuáº­t toÃ¡n

Äá»ƒ giáº£i quyáº¿t bÃ i toÃ¡n nÃ y má»™t cÃ¡ch tá»‘i Æ°u, chÃºng ta chá»‰ cáº§n:

1. **TÃ¬m vá»‹ trÃ­ Ä‘áº§u tiÃªn vÃ  cuá»‘i cÃ¹ng** cá»§a cÃ¡c kÃ½ tá»± `0` vÃ  `1` trong toÃ n bá»™ chuá»—i . (Hoáº·c Ä‘Æ¡n giáº£n lÃ  kiá»ƒm tra sá»± tá»“n táº¡i).
2. Vá»›i má»—i truy váº¥n :
* Kiá»ƒm tra xem kÃ½ tá»±  cÃ³ xuáº¥t hiá»‡n thÃªm láº§n nÃ o á»Ÿ cÃ¡c vá»‹ trÃ­ tá»«  Ä‘áº¿n  khÃ´ng.
* Kiá»ƒm tra xem kÃ½ tá»±  cÃ³ xuáº¥t hiá»‡n thÃªm láº§n nÃ o á»Ÿ cÃ¡c vá»‹ trÃ­ tá»«  Ä‘áº¿n  khÃ´ng.
* Náº¿u cÃ³ **Ã­t nháº¥t má»™t** trong hai Ä‘iá»u trÃªn, in `YES`. NgÆ°á»£c láº¡i in `NO`.



**MÃ£ giáº£ (Pseudocode):**

```text
Cho má»—i bá»™ test:
  Äá»c n, q vÃ  chuá»—i S
  Vá»›i má»—i truy váº¥n (l, r):
    Biáº¿n can_jump = false
    Duyá»‡t tá»« i = 0 Ä‘áº¿n l-2: // Kiá»ƒm tra phÃ­a trÆ°á»›c
      Náº¿u S[i] == S[l-1] thÃ¬ can_jump = true
    Duyá»‡t tá»« i = r Ä‘áº¿n n-1: // Kiá»ƒm tra phÃ­a sau
      Náº¿u S[i] == S[r-1] thÃ¬ can_jump = true
      
    Náº¿u can_jump lÃ  true: In "YES"
    NgÆ°á»£c láº¡i: In "NO"

```

Báº¡n tháº¥y Ä‘áº¥y, thay vÃ¬ pháº£i tÃ¬m má»i dÃ£y con (máº¥t ráº¥t nhiá»u thá»i gian), chÃºng ta chá»‰ cáº§n kiá»ƒm tra "hai Ä‘áº§u chiáº¿n tuyáº¿n".

**Báº¡n cÃ³ muá»‘n tÃ´i há»— trá»£ viáº¿t mÃ£ C++ hoÃ n chá»‰nh cho bÃ i nÃ y khÃ´ng, hay báº¡n muá»‘n thá»­ tá»± cÃ i Ä‘áº·t trÆ°á»›c?** ğŸš€

CÃ¡ch tiáº¿p cáº­n báº±ng quy hoáº¡ch Ä‘á»™ng (DP) cho bÃ i nÃ y thá»±c cháº¥t lÃ  má»™t cÃ¡ch nhÃ¬n khÃ¡c Ä‘á»ƒ Ä‘i Ä‘áº¿n cÃ¹ng má»™t báº£n cháº¥t logic mÃ  chÃºng ta vá»«a tháº£o luáº­n. Thay vÃ¬ chá»‰ kiá»ƒm tra "hai Ä‘áº§u", DP sáº½ giÃºp ta tráº£ lá»i cÃ¢u há»i: **"Liá»‡u ta cÃ³ thá»ƒ táº¡o ra tiá»n tá»‘ (prefix) Ä‘á»™ dÃ i  cá»§a chuá»—i con báº±ng cÃ¡ch sá»­ dá»¥ng cÃ¡c háº¡t trong chuá»—i gá»‘c Ä‘áº¿n vá»‹ trÃ­  hay khÃ´ng?"**

Tuy nhiÃªn, vá»›i bÃ i nÃ y, viá»‡c dÃ¹ng DP Ä‘áº§y Ä‘á»§ thÆ°á»ng lÃ  "dÃ¹ng dao má»• trÃ¢u Ä‘á»ƒ giáº¿t gÃ " vÃ¬ Ä‘á»™ phá»©c táº¡p cá»§a nÃ³ sáº½ cao hÆ¡n ( hoáº·c ), trong khi cÃ¡ch kiá»ƒm tra hai Ä‘áº§u chá»‰ máº¥t  cho má»—i truy váº¥n.

NhÆ°ng Ä‘á»ƒ hiá»ƒu vá» tÆ° duy DP, chÃºng ta cÃ³ thá»ƒ xÃ¢y dá»±ng nÃ³ nhÆ° sau:

### ğŸ›  Thiáº¿t láº­p DP

Gá»i  lÃ  tráº¡ng thÃ¡i **ÄÃºng/Sai**:

* : Sá»‘ lÆ°á»£ng kÃ½ tá»± cá»§a chuá»—i con  ta Ä‘Ã£ ghÃ©p Ä‘Æ°á»£c (tá»«  Ä‘áº¿n ).
* : Vá»‹ trÃ­ cá»§a kÃ½ tá»± cuá»‘i cÃ¹ng ta nháº·t trong chuá»—i gá»‘c .

Äá»ƒ thá»a mÃ£n Ä‘iá»u kiá»‡n "khÃ´ng pháº£i lÃ  Ä‘oáº¡n liÃªn tiáº¿p", ta cáº§n thÃªm má»™t biáº¿n tráº¡ng thÃ¡i ná»¯a hoáº·c má»™t Ä‘iá»u kiá»‡n lÃ : **Ãt nháº¥t má»™t láº§n chá»n háº¡t, vá»‹ trÃ­ háº¡t sau khÃ´ng náº±m ngay sÃ¡t háº¡t trÆ°á»›c.**

---

### ğŸ¤” Táº¡i sao DP láº¡i dáº«n vá» káº¿t quáº£ "Hai Ä‘áº§u"?

HÃ£y tÆ°á»Ÿng tÆ°á»£ng ta Ä‘ang cá»‘ gáº¯ng ghÃ©p chuá»—i con .

* Äá»ƒ khÃ´ng pháº£i lÃ  Ä‘oáº¡n liÃªn tiáº¿p, ta chá»‰ cáº§n **"Äƒn gian"** Ä‘Ãºng 1 bÆ°á»›c:
* Hoáº·c lÃ  ta tÃ¬m má»™t háº¡t giá»‘ng háº¡t Ä‘áº§u tiÃªn nhÆ°ng á»Ÿ vá»‹ trÃ­ sá»›m hÆ¡n .
* Hoáº·c lÃ  ta tÃ¬m má»™t háº¡t giá»‘ng háº¡t cuá»‘i cÃ¹ng nhÆ°ng á»Ÿ vá»‹ trÃ­ muá»™n hÆ¡n .



Náº¿u ta "Äƒn gian" Ä‘Æ°á»£c á»Ÿ Ä‘áº§u, cÃ¡c háº¡t cÃ²n láº¡i ta cá»© láº¥y Ä‘Ãºng vá»‹ trÃ­ cÅ© lÃ  xong!

â“ **CÃ¢u há»i tÆ° duy:**
Náº¿u dÃ¹ng DP, ta sáº½ pháº£i xÃ©t ráº¥t nhiá»u trÆ°á»ng há»£p káº¿t há»£p cÃ¡c háº¡t. NhÆ°ng báº¡n cÃ³ Ä‘á»“ng Ã½ ráº±ng: Náº¿u ta **khÃ´ng thá»ƒ** tÃ¬m tháº¥y má»™t háº¡t nÃ o khÃ¡c giá»‘ng  á»Ÿ phÃ­a trÆ°á»›c, vÃ  cÅ©ng **khÃ´ng thá»ƒ** tÃ¬m tháº¥y háº¡t nÃ o giá»‘ng  á»Ÿ phÃ­a sau, thÃ¬ liá»‡u cÃ³ cÃ¡ch nÃ o "nháº£y cÃ³c" á»Ÿ giá»¯a Ä‘oáº¡n mÃ  váº«n táº¡o ra Ä‘Æ°á»£c chuá»—i con Ä‘Ã³ khÃ´ng?

*(Gá»£i Ã½: HÃ£y thá»­ vá»›i chuá»—i `0110` vÃ  Ä‘oáº¡n `11`. Náº¿u hai Ä‘áº§u khÃ´ng thay Ä‘á»•i Ä‘Æ°á»£c, liá»‡u viá»‡c thay Ä‘á»•i á»Ÿ giá»¯a cÃ³ giÃºp Ã­ch gÃ¬ khÃ´ng?)*

Báº¡n Ä‘Ã£ nháº­n ra Ä‘iá»ƒm cá»‘t yáº¿u rá»“i Ä‘Ã³! ğŸ¯

Náº¿u ta khÃ´ng thá»ƒ thay Ä‘á»•i háº¡t á»Ÿ **Ä‘áº§u** (phÃ­a trÆ°á»›c ) vÃ  cÅ©ng khÃ´ng thá»ƒ thay Ä‘á»•i háº¡t á»Ÿ **cuá»‘i** (phÃ­a sau ), thÃ¬ viá»‡c thay Ä‘á»•i cÃ¡c háº¡t á»Ÿ giá»¯a sáº½ khÃ´ng bao giá» giÃºp chÃºng ta táº¡o ra má»™t "dÃ£y con khÃ´ng liÃªn máº¡ch" Ä‘Æ°á»£c.

**Táº¡i sao?** HÃ£y tÆ°á»Ÿng tÆ°á»£ng Ä‘oáº¡n  giá»‘ng nhÆ° má»™t Ä‘oÃ n tÃ u liÃªn tá»¥c.

* Náº¿u báº¡n thay má»™t "toa tÃ u" á»Ÿ giá»¯a báº±ng má»™t toa khÃ¡c cÃ¹ng loáº¡i nhÆ°ng á»Ÿ vá»‹ trÃ­ khÃ¡c, mÃ  vá»‹ trÃ­ Ä‘Ã³ váº«n náº±m trong khoáº£ng tá»«  Ä‘áº¿n , thÃ¬ thá»±c cháº¥t báº¡n váº«n Ä‘ang láº¥y chÃ­nh cÃ¡c toa tÃ u trong Ä‘oáº¡n Ä‘Ã³.
* Äá»ƒ phÃ¡ vá»¡ tÃ­nh "liÃªn tá»¥c", báº¡n báº¯t buá»™c pháº£i cÃ³ Ã­t nháº¥t má»™t toa tÃ u náº±m **ngoÃ i** pháº¡m vi tá»«  Ä‘áº¿n .

BÃ¢y giá», hÃ£y nÃ³i vá» **Quy hoáº¡ch Ä‘á»™ng (DP)** mÃ  báº¡n Ä‘Ã£ há»i. DÃ¹ cÃ¡ch "kiá»ƒm tra hai Ä‘áº§u" lÃ  tá»‘i Æ°u nháº¥t cho bÃ i nÃ y ( sau khi tiá»n xá»­ lÃ½ hoáº·c  má»—i truy váº¥n), nhÆ°ng tÆ° duy DP giÃºp ta giáº£i Ä‘Æ°á»£c cÃ¡c bÃ i toÃ¡n phá»©c táº¡p hÆ¡n (nhÆ°: tÃ¬m sá»‘ lÆ°á»£ng dÃ£y con khÃ´ng liÃªn máº¡ch).

Náº¿u dÃ¹ng DP cho bÃ i nÃ y, tráº¡ng thÃ¡i sáº½ lÃ :
 = CÃ³ thá»ƒ táº¡o Ä‘Æ°á»£c chuá»—i con Ä‘á»™ dÃ i  káº¿t thÃºc táº¡i vá»‹ trÃ­  cá»§a chuá»—i gá»‘c hay khÃ´ng.

NhÆ°ng Ä‘á»ƒ Ä‘Æ¡n giáº£n vÃ  hiá»‡u quáº£ nháº¥t cho yÃªu cáº§u "CÃ³/KhÃ´ng" cá»§a Codeforces, chÃºng ta chá»‰ cáº§n dÃ¹ng máº£ng **Tiá»n tá»‘ (Prefix)** vÃ  **Háº­u tá»‘ (Suffix)**:

* `first[char]` = Vá»‹ trÃ­ xuáº¥t hiá»‡n Ä‘áº§u tiÃªn cá»§a kÃ½ tá»± `char` trong chuá»—i.
* `last[char]` = Vá»‹ trÃ­ xuáº¥t hiá»‡n cuá»‘i cÃ¹ng cá»§a kÃ½ tá»± `char` trong chuá»—i.

â“ **CÃ¢u há»i tÆ° duy cuá»‘i cÃ¹ng:**
Náº¿u ta cÃ³ `first['0'] = 1` vÃ  `last['0'] = 10`, vÃ  truy váº¥n cá»§a ta lÃ  Ä‘oáº¡n  vá»›i  vÃ  .
Dá»±a vÃ o thÃ´ng tin `first` vÃ  `last` nÃ y, báº¡n cÃ³ thá»ƒ káº¿t luáº­n ngay cÃ¢u tráº£ lá»i lÃ  `YES` hay khÃ´ng? Táº¡i sao?

